{"version":3,"sources":["App.js","index.js"],"names":["Floor","textures","useTexture","ao","normal","height","roughness","useLayoutEffect","forEach","texture","wrapT","wrapS","THREE","repeat","set","Reflector","resolution","receiveShadow","mirror","blur","mixBlur","mixStrength","minDepthThreshold","maxDepthThreshold","depthScale","depthToBlurRatioBias","rotation","Math","PI","args","Material","props","color","metalness","roughnessMap","aoMap","normalMap","normalScale","envMapIntensity","bumpMap","Rings","ref1","useRef","ref2","useFrame","current","y","ref","castShadow","displacementMap","displacementScale","App","pixelRatio","camera","position","fov","attach","fallback","intensity","penumbra","angle","decay","distance","Environment","preset","OrbitControls","enablePan","minPolarAngle","maxPolarAngle","Loader","date","year","href","link1","link2","RectAreaLightUniformsLib","init","rootElement","document","getElementById","ReactDOM","render"],"mappings":"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","file":"static/js/main.61c237f4.chunk.js","sourcesContent":["import React, { Suspense, useRef, useLayoutEffect } from \"react\";\nimport * as THREE from \"three\";\nimport { Canvas, useFrame } from \"react-three-fiber\";\nimport { RectAreaLightUniformsLib } from \"three/examples/jsm/lights/RectAreaLightUniformsLib.js\";\nimport { OrbitControls, Torus, Loader } from \"@react-three/drei\";\nimport { Reflector, useTexture, Environment } from \"@react-three/drei\";\nimport { Footer } from \"@pmndrs/branding\";\nRectAreaLightUniformsLib.init();\n\nfunction Floor() {\n  const textures = useTexture([\n    \"/Ice_OCC.jpg\",\n    \"/Ice_NORM.jpg\",\n    \"/Ice_DISP.png\",\n    \"/floor_rough.jpeg\"\n  ]);\n  const [ao, normal, height, roughness] = textures;\n  useLayoutEffect(() => {\n    textures.forEach(\n      (texture) => (\n        (texture.wrapT = texture.wrapS = THREE.RepeatWrapping),\n        texture.repeat.set(2, 2)\n      )\n    );\n  }, [textures]);\n  return (\n    <Reflector\n      resolution={1024}\n      receiveShadow\n      mirror={0.25}\n      blur={[250, 250]}\n      mixBlur={14}\n      mixStrength={1}\n      minDepthThreshold={0.9}\n      maxDepthThreshold={1.1}\n      depthScale={2}\n      depthToBlurRatioBias={0.2}\n      rotation={[-Math.PI / 2, 0, 0]}\n      args={[70, 70]}\n    >\n      {(Material, props) => (\n        <Material\n          color=\"turquoise\"\n          metalness={0}\n          roughness={1}\n          roughnessMap={roughness}\n          aoMap={ao}\n          normalMap={normal}\n          normalScale={[0.2, 0.2]}\n          envMapIntensity={0.3}\n          bumpMap={height}\n          {...props}\n        />\n      )}\n    </Reflector>\n  );\n}\n\nfunction Rings() {\n  const ref1 = useRef();\n  const ref2 = useRef();\n  const textures = useTexture([\n    \"/ao.jpg\",\n    \"/normal.jpg\",\n    \"/height.png\",\n    \"/roughness.jpg\"\n  ]);\n  const [ao, normal, height, roughness] = textures;\n  useLayoutEffect(() => {\n    textures.forEach(\n      (texture) => (\n        (texture.wrapT = texture.wrapS = THREE.RepeatWrapping),\n        texture.repeat.set(4, 4)\n      )\n    );\n  }, [textures]);\n\n  useFrame(() => {\n    ref1.current.rotation.y += 0.05;\n    ref2.current.rotation.y += 0.05;\n  });\n\n  return (\n    <group position-y={0.66}>\n      <group ref={ref1}>\n        <Torus castShadow args={[1, 0.2, 64, 64]} rotation-x={Math.PI / 2.8}>\n          <meshPhysicalMaterial\n            color=\"#a19266\"\n            metalness={1}\n            roughness={1}\n            aoMap={ao}\n            normalMap={normal}\n            normalScale={[4, 4]}\n            displacementMap={height}\n            displacementScale={0.01}\n            roughnessMap={roughness}\n          />\n        </Torus>\n      </group>\n      <group ref={ref2} position-y={1.27}>\n        <Torus castShadow args={[1, 0.2, 64, 64]} rotation-x={-Math.PI / 2.8}>\n          <meshPhysicalMaterial\n            color=\"#a19266\"\n            metalness={1}\n            roughness={1}\n            aoMap={ao}\n            normalMap={normal}\n            normalScale={[4, 4]}\n            displacementMap={height}\n            displacementScale={0.01}\n            roughnessMap={roughness}\n          />\n        </Torus>\n      </group>\n    </group>\n  );\n}\n\nexport default function App() {\n  return (\n    <>\n      <Canvas pixelRatio={[1, 1.5]} camera={{ position: [0, 1, 15], fov: 20 }}>\n        <fog attach=\"fog\" args={[\"#e5e5e5\", 10, 50]} />\n        <Suspense fallback={null}>\n          <ambientLight intensity={0.1} />\n          <spotLight\n            castShadow\n            position={[0, 20, 20]}\n            intensity={6}\n            penumbra={1}\n            angle={Math.PI / 3}\n            decay={2}\n            distance={40}\n            shadow-mapSize-width={1024}\n            shadow-mapSize-height={1024}\n            shadow-focus={0.4}\n          />\n          <rectAreaLight\n            intensity={0.5}\n            args={[\"turquoise\", 8, 8, 8]}\n            position={[0, -0.99, 0]}\n            rotation-x={Math.PI / 2}\n          />\n          <group position-y={-1}>\n            <Floor />\n            <Rings />\n          </group>\n          <Environment preset=\"dawn\" />\n        </Suspense>\n        <OrbitControls\n          enablePan={false}\n          minPolarAngle={Math.PI / 16}\n          maxPolarAngle={Math.PI / 2}\n        />\n      </Canvas>\n      <Loader />\n      <Footer\n        date=\"\"\n        year={<a href=\"https://twitter.com/mlperego\">mlperego</a>}\n        link1={\n          <a href=\"https://github.com/pmndrs/react-three-fiber\">pmndrs/drei</a>\n        }\n        link2={\n          <a href=\"https://codesandbox.io/s/frosty-reflector-23xxw?file=/src/App.js\">\n            reflector-v3\n          </a>\n        }\n      />\n    </>\n  );\n}\n","import { StrictMode } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./styles.css\";\nimport App from \"./App\";\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(\n  <StrictMode>\n    <App />\n  </StrictMode>,\n  rootElement\n);\n"],"sourceRoot":""}